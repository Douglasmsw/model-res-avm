schema: '2.0'
stages:
  ingest:
    cmd: Rscript pipeline/00-ingest.R
    params:
      params.yaml:
        assessment:
          year: '2022'
          date: '2022-01-01'
          triad: north
          group: residential
          data_year: '2021'
        input:
          min_sale_year: '2015'
          max_sale_year: '2021'
          complex:
            match_exact:
            - meta_township_code
            - meta_class
            - char_bsmt
            - char_gar1_size
            - char_attic_fnsh
            - char_beds
            match_fuzzy:
              rooms: 1
              bldg_sf: 25
              yrblt: 4
              dist_ft: 250
    outs:
    - path: input/assessment_data.parquet
      md5: 5ccfb2bb069c63b329df3d979e55678e
      size: 283557153
      isexec: true
    - path: input/complex_id_data.parquet
      md5: 716a49453bcbbb66c39d162f751bc6d4
      size: 719229
      isexec: true
    - path: input/land_nbhd_rate_data.parquet
      md5: d4d45190b5b8b1491717429da75dc904
      size: 3612
      isexec: true
    - path: input/land_site_rate_data.parquet
      md5: e7b3de0ce18a01834c51089072159379
      size: 197036
      isexec: true
    - path: input/training_data.parquet
      md5: 1aa59a250063ab447ed9e4c166445364
      size: 100463102
      isexec: true
